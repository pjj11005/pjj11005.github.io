---
layout: post
title: 2ì£¼ì°¨ | ë°ì´í„° ë¶„ì„(Data analysis)
description: KT AIVLE SCHOOL 5ê¸° 2ì£¼ì°¨ì— ì§„í–‰í•œ ë°ì´í„° ë¶„ì„(Data analysis) ê°•ì˜ ë‚´ìš© ì •ë¦¬ ê¸€ì…ë‹ˆë‹¤.
sitemap: false
---

* this unordered seed list will be replaced by the toc
{:toc}

## ê°€ì„¤ ê²€ì •

1. **ê°€ì„¤ê³¼ ê°€ì„¤ ê²€ì •**
        
    > ê¸°ì¡´ ê°€ì„¤: ì •ì„¤, ì›ë¦¬, ê³µì‹
    > 
    > 
    > ë‹¨ì„œë¥¼ í†µí•´ ê°€ì„¤ì„ ì„¸ìš°ê³  ì‹¤í—˜ìœ¼ë¡œ ê²€ì •
    
    - **ëª¨ì§‘ë‹¨(Population)ê³¼ í‘œë³¸(Sample)**
        - **ëª¨ì§‘ë‹¨**: ìš°ë¦¬ê°€ ì•Œê³  ì‹¶ì€ ëŒ€ìƒ ì „ì²´ ì˜ì—­(ë°ì´í„°)
        - **í‘œë³¸**: ê·¸ ëŒ€ìƒì˜ ì¼ë¶€ ì˜ì—­(ë°ì´í„°)
    - ìš°ë¦¬ëŠ” ì¼ë¶€ë¶„ìœ¼ë¡œ ì „ì²´ë¥¼ ì¶”ì •í•˜ê³ ì í•œë‹¤
        - ëª¨ì§‘ë‹¨ì— ëŒ€í•œ ê°€ì„¤ ìˆ˜ë¦½
            - ê°€ì„¤ì€ ë³´í†µ xì™€ yì˜ ê´€ê³„ë¥¼ í‘œí˜„
                - Xì— ë”°ë¼ Yê°€ **ì°¨ì´**ê°€ ìˆë‹¤
                - Xì™€ YëŠ” **ê´€ê³„**ê°€ ìˆë‹¤
        - í‘œë³¸ì„ ê°€ì§€ê³  ê°€ì„¤ì´ ì§„ì§œ ê·¸ëŸ¬í•œ ì§€ ê²€ì¦(ê²€ì •)
    - ë¹„ì¦ˆë‹ˆìŠ¤ ì´í•´ ë‹¨ê³„ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œë¡œë¶€í„° ìš°ë¦¬ì˜ ê´€ì‹¬ì‚¬(**Y**)ë¥¼ ë„ì¶œ â†’ **Y**ì— ì˜í–¥ì„ ì£¼ëŠ” ìš”ì¸(**X**)ë“¤ì„ ë½‘ì•„ì„œ ê°€ì„¤ ìˆ˜ë¦½
    - ê·€ë¬´ê°€ì„¤ $$H_0$$: ì˜ê°€ì„¤, í˜„ì¬ì˜ ê°€ì„¤, ë³´ìˆ˜ì ì¸ ì…ì¥
    - ëŒ€ë¦½ê°€ì„¤ $$H_1$$: ì—°êµ¬ê°€ì„¤, ìƒˆë¡œìš´ ê°€ì„¤, ë‚´ê°€ ë°”ë¼ëŠ”ë°”

2. í†µê³„ì  ê²€ì •
    - í‘œë³¸ìœ¼ë¡œë¶€í„° ëŒ€ë¦½ê°€ì„¤ì„ í™•ì¸í•˜ê³ , ëª¨ì§‘ë‹¨ì—ì„œë„ ë§ì„ ê²ƒì´ë¼ ì£¼ì¥
        - ëŒ€ë¦½ê°€ì„¤: ë§¤ì¥ ì§€ì—­($$x_2$$)ì— ë”°ë¼ ìˆ˜ìš”ëŸ‰($$y$$)ì— ì°¨ì´ê°€ ìˆë‹¤
        - ê·€ë¬´ê°€ì„¤: ë§¤ì¥ ì§€ì—­($$x_2$$)ì— ë”°ë¼ ìˆ˜ìš”ëŸ‰($$y$$)ì— ì°¨ì´ê°€ ì—†ë‹¤
    - ë¶„í¬ + **íŒë‹¨ê¸°ì¤€** í•„ìš”
        - ì°¨ì´ ê°’ìœ¼ë¡œë¶€í„° `p-value` ê³„ì‚°(ì°¨ì´ ê°’ì´ í´ ìˆ˜ë¡ `p-value` ì‘ì•„ì§)
        - íŒë‹¨ê¸°ì¤€(ìœ ì˜ìˆ˜ì¤€): 0.05(5%) í˜¹ì€ ì¢€ ë” ë³´ìˆ˜ì ì¸ ê¸°ì¤€ìœ¼ë¡œ 0.01(1%)ë¥¼ ì‚¬ìš©
        - 0.05ë³´ë‹¤ëŠ” `p-value`ê°€ ì‘ì•„ì•¼, ì°¨ì´ê°€ ìˆë‹¤ê³  íŒë‹¨
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%201.png)
            
    - ìš°ë¦¬ì˜ ê´€ì‹¬ì‚¬ê°€
        1. Aë§¤ì¥ê³¼ Bë§¤ì¥ ì¤‘ ì–´ë””ì˜ **ìˆ˜ìš”ëŸ‰ì´ ë” í°ê°€?** â†’ **ë‹¨ì¸¡ê²€ì¦**
        2. ë§¤ì¥ê°„ì˜ **ìˆ˜ìš”ëŸ‰ì˜ ì°¨ì´ê°€ ìˆë‚˜?** â†’ **ì–‘ì¸¡ê²€ì¦**
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%202.png)
            
    - **ê²€ì •(ì°¨ì´ê°€ ìˆëŠ”ì§€ í™•ì¸)í•˜ê¸° ìœ„í•œ ì°¨ì´ ê°’(ê²€ì • í†µê³„ëŸ‰)**
        - `t í†µê³„ëŸ‰`
        - $$x^{2}$$ (ì¹´ì´ ì œê³±) í†µê³„ëŸ‰
        - `f í†µê³„ëŸ‰`
    - ì´ë“¤ì€ ê°ê° **ê¸°ì¤€** ëŒ€ë¹„ **ì°¨ì´**ë¡œ ê³„ì‚°ë¨
        - ê³„ì‚°ëœ í†µê³„ëŸ‰ â†’ ê°ìì˜ ë¶„í¬ë¥¼ ê°€ì§
        - ë¶„í¬ë¥¼ í†µí•´ì„œ ê·¸ ê°’ì´ (**ì°¨ì´**ê°€) í°ì§€, ì‘ì€ ì§€ íŒë‹¨ ê°€ëŠ¥
        - ì†ì‰½ê²Œ íŒë‹¨í•  ìˆ˜ ìˆë„ë¡ ê³„ì‚°í•´ ì¤€ ê²ƒì´ `p-value`

## ì´ë³€ëŸ‰ ë¶„ì„ (ìˆ«ì â†’ ìˆ«ì)

![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%203.png)

{:.figcaption}
ì´ë³€ëŸ‰ ë¶„ì„ ì´ì •ë¦¬ í‘œ

> ìˆ«ì vs ìˆ«ì - ì •ë¦¬í•˜ëŠ” ë°©ë²•
> 
> 1. ì‚°ì ë„ (ê·¸ëŒ€ë¡œ ì ì„ ì°ì–´ì„œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¼)
> 2. ê³µë¶„ì‚°, ìƒê´€ê³„ìˆ˜ (ê° ì ë“¤ì´ ì–¼ë§ˆë‚˜ **ì§ì„ **ì— ëª¨ì—¬ ìˆëŠ”ì§€ë¥¼ ê³„ì‚°)

> **ë³€ìˆ˜ ê°„ì˜ ê´€ê³„ë¥¼ íŒŒì•…í•˜ëŠ” ë„êµ¬ë“¤ë„ ê°ê° í•œê³„ê°€ ìˆë‹¤ â†’ ë³´ì´ëŠ”ê²Œ ì „ë¶€ê°€ ì•„ë‹˜ì„ ê¼­ ëª…ì‹¬!**

### ì‹œê°í™”: ì‚°ì ë„
- ìƒê´€ ë¶„ì„
    - ìƒê´€ ë¶„ì„ì€ ì—°ì†í˜• ë³€ìˆ˜ Xì— ëŒ€í•œ ì—°ì†í˜• ë³€ìˆ˜ Yì˜ ê´€ê³„ë¥¼ ë¶„ì„í•  ë•Œ ì‚¬ìš©ëœë‹¤
    - Scatterë¥¼ í†µí•´ ì‹œê°
- ê°€ì„¤ : ì˜¨ë„(x)ê°€ ìƒìŠ¹í•˜ë©´ ì•„ì´ìŠ¤í¬ë¦¼ íŒë§¤ëŸ‰(y)ì„ ì¦ê°€í• ê¹Œ?
    - ì–´ë–¤ ê´€ê³„ê°€ ë³´ì´ë‚˜ìš”?
    - ì–¼ë§ˆë‚˜ ê°•í•œ ê´€ê³„ì¸ê°€ìš”?
- ìˆ«ì vs ìˆ«ìë¥¼ ë¹„êµí•  ë•Œ ì¤‘ìš”í•œ ê´€ì :Â **`'ì§ì„ '(Linearity)`**
    
    ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%204.png)
    

**(1) ì‚°ì ë„**

- ë¬¸ë²•
    - `plt.scatter( xì¶• ê°’, yì¶• ê°’ )`
    - `plt.scatter( â€˜xë³€ìˆ˜â€™, â€˜yë³€ìˆ˜â€™, data = dataframe ì´ë¦„)`

- ë‘ ë³€ìˆ˜ì˜ ê´€ê³„
    - ì‚°ì ë„ì—ì„œ ë˜ë ·í•œ íŒ¨í„´ì´ ë³´ì¸ë‹¤ë©´, ê°•í•œ ê´€ê³„ë¡œ ë³¼ ìˆ˜ ìˆë‹¤(íŠ¹íˆ, ì§ì„ ì˜ íŒ¨í„´ì´ ë³´ì¸ë‹¤ë©´)
        
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%205.png)
        

**(2) `pairplot` í•œêº¼ë²ˆì— ì‹œê°í™”**

- ìˆ«ìí˜• ë³€ìˆ˜ë“¤ì— ëŒ€í•œ ì‚°ì ë„ë¥¼ í•œêº¼ë²ˆì— ê·¸ë ¤ì¤€ë‹¤
- ê·¸ëŸ¬ë‚˜Â **ì‹œê°„ì´ ë§ì´ ê±¸ë¦¼**
    
    ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%206.png)
    
    - ì•„ë˜, ìœ„ ì¤‘ í•œìª½ì„ ì„ íƒí•´ì„œ ê·¸ë˜í”„ ë³´ê¸°

**(3)  `jointplot, regplot`**

- `jointplot`ì€ ì‚°ì ë„ì™€ ê°ê°ì˜ íˆìŠ¤í† ê·¸ë¨ì„ í•¨ê»˜ ë³´ì—¬ì¤€ë‹¤
    
    ```python
    sns.jointplot(x='Temp', y='Ozone', data = air)
    plt.show()
    ```
    
    ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%207.png)
    
- `regplot`
    
    ```python
    sns.regplot(x='Solar.R', y='Ozone', data = air)
    plt.show()
    ```
    
    ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%208.png)
    
    - ì¥ì : ì§ì„ ì„ ê·¸ë ¤ì¤˜ì„œ ê´€ê³„ë¥¼ ì˜ ì•Œ ìˆ˜ ìˆìŒ
    - ë‹¨ì : ë¬´ì¡°ê±´ ì§ì„ ì„ ê·¸ë ¤ì„œ ê´€ê³„ê°€ ì—†ì–´ë„ ìˆì–´ ë³´ì´ëŠ” ëŠë‚Œì´ ë“ ë‹¤
            
            
### ìˆ˜ì¹˜í™” : ìƒê´€ë¶„ì„
    
**(1) ìƒê´€ê³„ìˆ˜, p-value**

- ìƒê´€ê³„ìˆ˜ $$r$$
    - ê³µë¶„ì‚°ì„ í‘œì¤€í™” í•œ ê°’
    - -1 ~ 1 ì‚¬ì´ì˜ ê°’
    - -1, 1ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ê°•í•œ ìƒê´€ê´€ê³„ë¥¼ ë‚˜íƒ€ëƒ„

- ê²½í—˜ì— ì˜í•œ ëŒ€ëµì˜ ê¸°ì¤€(ì ˆëŒ€ì ì¸ ê¸°ì¤€ì´ ì ˆëŒ€ ì•„ë‹˜)
    - ê°•í•œ: $$0.5 <  \vert r \vert  \leq 1$$
    - ì¤‘ê°„ : $$0.2 < \vert r \vert \leq 0.5$$
    - ì•½í•œ : $$0.1 < \vert r \vert \leq 0.2$$
    - (ê±°ì˜)ì—†ìŒ : $$ \vert r \vert \leq 0.1$$
    
    ```python
    import scipy.stats as spst
    
    # ìƒê´€ê³„ìˆ˜ì™€ p-value 
    spst.pearsonr(air['Temp'], air['Ozone'])
    ```
    
    - ê²°ê³¼: íŠœí”Œ (ìƒê´€ê³„ìˆ˜, p-value)
        - ì²« ë²ˆì§¸ ê°’ : ìƒê´€ê³„ìˆ˜
        - ë‘ ë²ˆì§¸ ê°’ : p-value
            - ê·€ë¬´ê°€ì„¤ : ìƒê´€ ê´€ê³„ê°€ ì—†ë‹¤ (ìƒê´€ê³„ìˆ˜ê°€ 0ì´ë‹¤)
            - ëŒ€ë¦½ê°€ì„¤ : ìƒê´€ ê´€ê³„ê°€ ìˆë‹¤ (ìƒê´€ê³„ìˆ˜ê°€ 0ì´ ì•„ë‹ˆë‹¤)
        
        > ì£¼ì˜ ì‚¬í•­ : ê°’ì— NaNì´ ìˆìœ¼ë©´ ê³„ì‚°ë˜ì§€ ì•ŠëŠ”ë‹¤ â†’ ë°˜ë“œì‹œ `.notnull()`ë¡œ ì œì™¸í•˜ê³  ìˆ˜í–‰í•´ì•¼ í•œë‹¤
        > 

**(2) ë°ì´í„°í”„ë ˆì„ í•œêº¼ë²ˆì— ìƒê´€ê³„ìˆ˜ êµ¬í•˜ê¸°**

- `air.corr()`
    - ìœ„ ê²°ê³¼ë¡œ ë¶€í„°,
        1. ê°™ì€ ë³€ìˆ˜ë¼ë¦¬ êµ¬í•œ ê°’ 1ì€ ì˜ë¯¸ ì—†ë‹¤ (**ëŒ€ê°ì„ ì€ ì˜ë¯¸ ì—†ìŒ**) â†’ ì•„ë˜ë‚˜ ìœ„ìª½ ë°ì´í„°ë§Œ ë³´ê¸°
        2. ìƒê´€ê³„ìˆ˜ì˜ ì ˆëŒ€ê°’ì´
            - 1ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ê°•í•œ ìƒê´€ê´€ê³„
            - 0ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ì•½í•œ ìƒê´€ê´€ê³„
        3. +ëŠ” ì–‘ì˜ ìƒê´€ê´€ê³„, -ëŠ” ìŒì˜ ìƒê´€ê´€ê³„

**(3) ìƒê´€ê³„ìˆ˜ë¥¼ heatmapìœ¼ë¡œ ì‹œê°í™”**

```python
plt.figure(figsize = (8, 8))
sns.heatmap(air.corr(), 
            annot = True,            # ìˆ«ì(ìƒê´€ê³„ìˆ˜) í‘œê¸° ì—¬ë¶€
            fmt = '.3f',             # ìˆ«ì í¬ë©§ : ì†Œìˆ˜ì  3ìë¦¬ê¹Œì§€ í‘œê¸°
            cmap = 'RdYlBu_r',       # ì»¬ëŸ¬ë§µ
            vmin = -1, vmax = 1)     # ê°’ì˜ ìµœì†Œ, ìµœëŒ€ê°’
plt.show()
```

![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%209.png)

> ì¹¼ë¼ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ì•„ë˜ ë§í¬ë¡œ ê°€ì„œ color map ì„ í™•ì¸í•˜ê³  ì¡°ì •
> 
> 
> cmap(color map) : [https://matplotlib.org/stable/tutorials/colors/colormaps.html](https://matplotlib.org/stable/tutorials/colors/colormaps.html)
> 

**(4) ìƒê´€ê³„ìˆ˜ì˜ í•œê³„**

- ìƒê´€ê³„ìˆ˜ëŠ” ì§ì„ ì˜ ê´€ê³„(ì„ í˜•ê´€ê³„)ë§Œ ìˆ˜ì¹˜í™” í•´ì¤€ë‹¤
    - ì§ì„ ì˜ ê¸°ìš¸ê¸°, ë¹„ì„ í˜• ê´€ê³„ â†’ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤
    - **ì§ì„ ì˜ ê¸°ìš¸ê¸°ì™€ ìƒê´€ê³„ìˆ˜ëŠ” ê´€ë ¨ì´ ì—†ë‹¤**
        
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2010.png)
        
- ì‚°ì ë„ì™€ ìƒê´€ê³„ìˆ˜ë¥¼ ê°™ì´ íŒŒì•…í•´ì•¼ í•œë‹¤
    - **Focus: ì§ì„  (ì„ í˜•ì„±, Linearity)**
        - ì–¼ë§ˆë‚˜ ì§ì„ ìœ¼ë¡œ ì˜ ì„¤ëª… ê°€ëŠ¥í•œê°€?
        - ì–¼ë§ˆë‚˜ ì§ì„ ì— ì ë“¤ì´ ëª¨ì—¬ ìˆëŠ”ê°€?
    - ì‹œê°í™”ì™€ ìˆ˜ì¹˜í™”ë¥¼ í•¨ê»˜ ìˆ˜í–‰í•˜ê¸°

### ì´ë³€ëŸ‰ ë¶„ì„ í•¨ìˆ˜(ìˆ«ì -> ìˆ«ì)

```python
def eda_2_nn(var, target, data):
    result = spst.pearsonr(data[var], data[target])
    print(f'ìƒê´€ê³„ìˆ˜ : {result[0]}, p-value : {result[1]}')
    
    sns.scatterplot(x=var, y = target, data = data)
    plt.grid()
    plt.show()
```

## í‰ê·  ì¶”ì •ê³¼ ì‹ ë¢°êµ¬ê°„

1. í‰ê· ê³¼ ë¶„ì‚°, í‘œì¤€í¸ì°¨
    - ë¶„ì‚°, í‘œì¤€í¸ì°¨: í•œ ì§‘ë‹¨ ì„¤ëª…ì„ ìœ„í•´ ëŒ€í‘¯ê°’ìœ¼ë¡œ í‰ê· ì„ ê³„ì‚°í–ˆì„ ë•Œ í‰ê· ìœ¼ë¡œë¶€í„° ì–¼ë§ˆë‚˜ ë²—ì–´ë‚˜ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’ (ì´íƒˆë„, deviation)
2. ëª¨ì§‘ë‹¨ê³¼ í‘œë³¸
    - ì¡°ì‚¬ ë°©ë²•
        1. í‘œë³¸ ì¡°ì‚¬
            - ì¶”ì¶œ ë°©ì‹: ë§ì€ ìˆ˜, **ë¬´ì‘ìœ„**
            - ì¥ì : ì ì ˆí•œ ë¹„ìš©ê³¼ ì‹œê°„
            - ë‹¨ì : ì˜¤ì°¨ê°€ ì¡´ì¬
        2. ì „ìˆ˜ ì¡°ì‚¬
            - ì „ì²´(**ëª¨ì§‘ë‹¨**)ì„ ì¡°ì‚¬
            - ì¥ì : ì •í™•! ì˜¤ì°¨: 0
            - ë‹¨ì : ë¹„ìš©, ì‹œê°„ ê³¼ë‹¤
    
    - í‘œë³¸ì„ ë½‘ëŠ”(í‘œì§‘, **sampling**) ëª©ì  â†’ **ëª¨ì§‘ë‹¨ ì¶”ì •**
        - í‘œë³¸ì„ ê°€ì§€ê³  ì–´ë–¤ í†µê³„ëŸ‰ì„ ê³„ì‚°í•œë‹¤ë©´, ê·¸ ëª©ì ì€ ëª¨ì§‘ë‹¨ì„ ì¶”ì •í•˜ê¸° ìœ„í•¨ â†’ **ì¤‘ìš”**
    - í‘œë³¸í‰ê· 
        - ëª¨ í‰ê· ì— ëŒ€í•œ ì¶”ì •ì¹˜
        - ì¶”ì •ì¹˜ì—ëŠ” ì˜¤ì°¨ê°€ ì¡´ì¬, ì´ ì˜¤ì°¨ë¥¼ **í‘œì¤€ì˜¤ì°¨**
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2011.png)            
        
3. **ì¤‘ì‹¬ ê·¹í•œ ì •ë¦¬ (Central Limit Theorem)**
    - í‘œë³¸ í‰ê· ë“¤ì˜ ë¶„í¬(í‘œì§‘ ë¶„í¬) â†’ ì •ê·œë¶„í¬ì— ê°€ê¹Œì›Œ ì§ (**ëª¨ì§‘ë‹¨ì˜ ë¶„í¬ì™€ ìƒê´€ì—†ì´**)
        - í‘œë³¸ì˜ ë°ì´í„° ìˆ˜(í‘œë³¸ì˜ í¬ê¸°) â‰¥ 30ê°œ
        - ì´ ë¶„í¬(í‰ê· ë“¤ì˜ ë¶„í¬)ì˜ í‰ê· : ëª¨í‰ê· ì— ê·¼ì‚¬
    - í‘œë³¸ì˜ í¬ê¸°($$n$$)ê°€ í´ìˆ˜ë¡ ì •ê·œë¶„í¬ ëª¨ì–‘ì´ ì¤‘ì‹¬(Central)ì— ê°€ê¹Œì›Œì§€ëŠ”(Limit) ì¢ì€ í˜•íƒœê°€ ë¨
    
    - í‘œì¤€ ì˜¤ì°¨ (Standard Error)
        
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2013.png)
        
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2014.png)
        
    
4. 95% ì‹ ë¢°êµ¬ê°„ (Confidence Interval)
    - í‘œì¤€ì˜¤ì°¨ë¥¼ ë°”íƒ•ìœ¼ë¡œ 95% í™•ë¥  êµ¬ê°„ì„ êµ¬í•  ìˆ˜ ìˆë‹¤
    - 95% ì‹ ë¢°êµ¬ê°„ì˜ ì˜ë¯¸
        - ê°„ë‹¨í•œ ì„¤ëª…: ì‹ ë¢°êµ¬ê°„ ì•ˆì— ëª¨í‰ê· ì´ í¬í•¨ë  í™•ë¥ ì´ 95%
        - **ì •í™•í•œ ì„¤ëª…: í‘œë³¸ì„ 100ë²ˆ ì •ë„ ë½‘ìœ¼ë©´ 95ë²ˆ ì •ë„ëŠ” 95% ì‹ ë¢°êµ¬ê°„ ì•ˆì— ëª¨í‰ê· ì„ í¬í•¨í•¨**
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2015.png)
            
        

## ì´ë³€ëŸ‰ ë¶„ì„ (ë²”ì£¼â†’ ìˆ«ì)

### ì‹œê°í™”: ë‘ ì§‘ë‹¨(ë²”ì£¼) â†’ ìˆ«ì
- ëŒ€ë¦½ê°€ì„¤: ìƒì¡´ì—¬ë¶€ì— ë”°ë¼ ë‚˜ì´ì˜ ì°¨ì´ê°€ ìˆë‹¤

**(1) í‰ê·  ë¹„êµ : barplot**

- í‰ê·  ë¹„êµ barplot
- ì‹ ë¢°êµ¬ê°„(ì˜¤ì°¨ë²”ìœ„)
    - **í‰ê· ê°’**ì´ ì–¼ë§ˆë‚˜ ë¯¿ì„ ë§Œ í•œê°€?
    - ì¢ì„ ìˆ˜ë¡ ë¯¿ì„ ë§Œ í•˜ë‹¤
    - ë°ì´í„°ê°€ ë§ì„ìˆ˜ë¡, í¸ì°¨ê°€ ì ì„ìˆ˜ë¡ ì‹ ë¢°êµ¬ê°„ ì¢ì•„ì§
- **ë‘ í‰ê· ì— ì°¨ì´ê°€ í¬ê³ , ì‹ ë¢°êµ¬ê°„ì€ ê²¹ì¹˜ì§€ ì•Šì„ ë•Œ, ëŒ€ë¦½ê°€ì„¤ì´ ë§ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤**
    
    ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2017.png)
    
    > ê·¸ë˜í”„ì˜ ê²€ì€ ì„  â†’ 95% ì‹ ë¢°êµ¬ê°„
    > 
- ì„¸ ì§‘ë‹¨(ë²”ì£¼) â†’ ìˆ«ì
    - ë™ì¼í•œ í•¨ìˆ˜ ì‚¬ìš©, í•´ì„ ë°©ë²•ë„ ë™ì¼
    

**(2) boxplot**

![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2018.png)
    

### ìˆ˜ì¹˜í™”: t-test, anova(ë¶„ì‚°ë¶„ì„)
- ë²”ì£¼ê°€ **ë‘ ê°œ ì¼ ë•Œ**ì™€ **ì„¸ ê°œ ì´ìƒì¼ ë•Œ** í‰ê· ì„ ë¹„êµí•˜ëŠ” ë°©ë²•
- t-testì™€ anova
    - ë²”ì£¼í˜• xì™€ ìˆ«ìí˜• yì˜ ê´€ê³„ë¥¼ ê²€ì •í•˜ê¸° ìœ„í•œ ë„êµ¬
    - í‰ê· ì„ ë¹„êµí•˜ì—¬ ì°¨ì´ ê²€ì •(testing)
        
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2019.png)
        

**(1) t-test**

- t í†µê³„ëŸ‰
    - ë‘ ê·¸ë£¹ì˜ í‰ê·  ê°„ ì°¨ì´ë¥¼ í‘œì¤€ì˜¤ì°¨ë¡œ ë‚˜ëˆˆ ê°’
    - t í†µê³„ëŸ‰ì˜ ë¶„í¬
- t í†µê³„ëŸ‰ì´ ìœ ì˜í•œì§€ ê²€ì •
    - T-test: t í†µê³„ëŸ‰, p-value
        - p-valueê°€ 0.05ë³´ë‹¤ ì‘ìœ¼ë©´ ì°¨ì´ê°€ ìˆë‹¤
        - t í†µê³„ëŸ‰ì´ -2ë³´ë‹¤ ì‘ê±°ë‚˜, 2ë³´ë‹¤ í¬ë©´, ì°¨ì´ê°€ ìˆë‹¤ê³  ë³¸ë‹¤
- `ttest_ind(B, A, equal_var = False)`
    - Aì™€ ë¹„êµí•  ë•Œ Bì˜ í‰ê· ì´ í°ê°€?
    - `equal_var`: Aì™€ Bì˜ ë¶„ì‚°ì´ ê°™ì€ê°€? ëª¨ë¥´ë©´ `False(default)`
    - ê°’ì€ A, B ìœ„ì¹˜ì— ë”°ë¼ ë¶€í˜¸ ë°˜ëŒ€
        - ì¤‘ìš”í•œ ê²ƒì€ ì°¨ì´ê°€ ìˆëƒ, ì—†ëƒ ì´ë‹¤

**(2) anova**

- ë¶„ì‚° ë¶„ì„Â **AN**alysisÂ **O**fÂ **VA**riance
- ì—¬ëŸ¬ ì§‘ë‹¨ ê°„ì— ì°¨ì´ ë¹„êµ: ê¸°ì¤€ì€ **ì „ì²´ í‰ê· **

![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2020.png)

> $$ğ¹ í†µê³„ëŸ‰ = \frac{ì§‘ë‹¨ ê°„ ë¶„ì‚°}{ì§‘ë‹¨ ë‚´ ë¶„ì‚°} = \frac{ì „ì²´ í‰ê·  âˆ’ ê° ì§‘ë‹¨ í‰ê· }{ê° ì§‘ë‹¨ì˜ í‰ê·  âˆ’ ê°œë³„ ê°’}$$

- ê°’ì´ ëŒ€ëµ 2~3 ì´ìƒì´ë©´ ì°¨ì´ê°€ ìˆë‹¤ê³  íŒë‹¨
        
    
    
    ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2021.png)
        
- `f_oneway(A, B, C)`
    - ì „ì²´ í‰ê· ê³¼ A, B, C ê°ê°ì˜ í‰ê· ì€ ì°¨ì´ê°€ ìˆë‚˜?
    - ë¶„ì‚°ë¶„ì„ì€ ì „ì²´ í‰ê· ëŒ€ë¹„ **ê° ê·¸ë£¹ê°„ ì°¨ì´ê°€ ìˆëŠ” ì§€ë§Œ** ì•Œë ¤ì¤Œ
        - ê·¸ë˜ì„œ, ë³´í†µ [ì‚¬í›„ë¶„ì„] ì§„í–‰

### ì´ë³€ëŸ‰ ë¶„ì„ í•¨ìˆ˜(ë²”ì£¼ -> ìˆ«ì)

```python
def eda_2_cn_ttest(df, var, target):
    # Barplot ê·¸ë¦¬ê¸°
    sns.barplot(x=var, y=target, data=df)
    plt.grid()
    plt.show()
    
    # t-test ë¶„ì„ ìˆ˜í–‰
    groups = [df.loc[df[var] == i, target] for i in sorted(df[var].unique())]
    t_value, p_value = spst.ttest_ind(*groups)
    
    # ê²°ê³¼ ì¶œë ¥
    print(f'T-test result for {var}: t-value: {t_value}, p-value: {p_value}')


def eda_2_cn_anova(df, var, target):
    # Barplot ê·¸ë¦¬ê¸°
    sns.barplot(x=var, y=target, data=df)
    plt.grid()
    plt.show()
    
    # ANOVA ë¶„ì„ ìˆ˜í–‰
    groups = [df.loc[df[var] == i, target] for i in sorted(df[var].unique())]
    f_statistic, p_value = spst.f_oneway(*groups)
    
    # ê²°ê³¼ ì¶œë ¥
    print(f'ANOVA result for {var}: F-statistic: {f_statistic}, p-value: {p_value}')
```

## ì´ë³€ëŸ‰ ë¶„ì„ (ë²”ì£¼ â†’ ë²”ì£¼)

### êµì°¨í‘œ(crosstab)
- MLì—ì„œ ì‚¬ìš©ë¨
- `Pandas`ì˜ êµì°¨í‘œ í•¨ìˆ˜: `crosstab`
    - ë‘ ë²”ì£¼í˜• ë³€ìˆ˜ì— ì‚¬ìš© ê°€ëŠ¥
    - `pd.crosstab(titanic['Survived'], titanic['Sex'])`
        - `normalize` ì˜µì…˜: ë¹„ìœ¨ë¡œ ë³€í™˜
            - `columns`: ì—´ ê¸°ì¤€ 100%
            - `index`: í–‰ ê¸°ì¤€ 100%
            - `all`: ì „ì²´ ê¸°ì¤€ 100%
                
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2022.png)
                    
### ì‹œê°í™” (`mosaic plot`)
- `mosaic plot`: ë²”ì£¼ë³„ ì–‘ê³¼ ë¹„ìœ¨ì„ ë‚˜íƒ€ëƒ„
    - `mosaic(dataframe, [ feature, target])`
        
        ```python
        # Pclassë³„ ìƒì¡´ì—¬ë¶€ë¥¼ mosaic plotìœ¼ë¡œ ê·¸ë ¤ ë´…ì‹œë‹¤.
        mosaic(titanic, [ 'Pclass','Survived'])
        plt.axhline(1- titanic['Survived'].mean(), color = 'r')
        plt.show()
        ```
        
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2023.png)
        
        - ë¹¨ê°„ì„ ì€ ì „ì²´ í‰ê·  (ì „ì²´ ì‚¬ë§ë¥ , ì „ì²´ ìƒì¡´ìœ¨)
        
        â‘  Xì¶• ê¸¸ì´ëŠ” ê° ê°ì‹¤ë“±ê¸‰ë³„ ìŠ¹ê°ë¹„ìœ¨ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
        
        â‘¡ ê·¸ ì¤‘ 3ë“±ê¸‰ ê°ì‹¤ì— ëŒ€í•´ì„œ ë³´ë©´, yì¶•ì˜ ê¸¸ì´ëŠ”, 3ë“±ê¸‰ ê°ì‹¤ ìŠ¹ê° ì¤‘ì—ì„œ ì‚¬ë§, ìƒì¡´ ë¹„ìœ¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
        
    - ë‘ ë²”ì£¼í˜• ë³€ìˆ˜ê°€ ì•„ë¬´ëŸ° ìƒê´€ì´ ì—†ë‹¤ë©´
        - ë²”ì£¼ ë³„ ë¹„ìœ¨ì˜ ì°¨ì´ê°€ ì „í˜€ ì—†ìŒ
        - ì¡°ê¸ˆì´ë¼ë„ ê´€ë ¨ì´ ìˆìœ¼ë©´, ë¹„ìœ¨ í˜¹ì€ barì˜ í¬ê¸°ì— ì¡°ê¸ˆì´ë¼ë„ ì°¨ì´ê°€ ë‚¨
    
### ìˆ˜ì¹˜í™” (ì¹´ì´ì œê³±ê²€ì •)
- ì¹´ì´ì œê³±ê²€ì • : ë²”ì£¼í˜• ë³€ìˆ˜ë“¤ ì‚¬ì´ì— ì–´ë–¤ ê´€ê³„ê°€ ìˆëŠ”ì§€, ìˆ˜ì¹˜í™” í•˜ëŠ” ë°©ë²•
    - **ê¸°ëŒ€ë¹ˆë„**: ì•„ë¬´ëŸ° ê´€ë ¨ì´ ì—†ì„ ë•Œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ë¹ˆë„ìˆ˜
    - **ì‹¤ì œ ë°ì´í„°**: ê´€ì¸¡ëœ ê°’ë“¤
- ì¹´ì´ì œê³± í†µê³„ëŸ‰: ê¸°ëŒ€ë¹ˆë„ì™€ ì‹¤ì œ ë°ì´í„°ì˜ ì°¨ì´
    
    > $$x^2 = \frac{(ê´€ì¸¡ë¹ˆë„ - ê¸°ëŒ€ë¹ˆë„)^2}{ê¸°ëŒ€ë¹ˆë„}$$
    
    - ì¹´ì´ ì œê³± í†µê³„ëŸ‰ì€
        - í´ìˆ˜ë¡ ê¸°ëŒ€ë¹ˆë„ë¡œë¶€í„° ì‹¤ì œ ê°’ì— ì°¨ì´ê°€ í¬ë‹¤ëŠ” ì˜ë¯¸
        - ê³„ì‚°ì‹ìœ¼ë¡œ ë³¼ ë•Œ, ë²”ì£¼ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚  ìˆ˜ë¡ ê°’ì€ ì»¤ì§€ê²Œ ë˜ì–´ ìˆìŒ
        - ë³´í†µ, ììœ ë„ì˜ 2~3ë°° ë³´ë‹¤ í¬ë©´, ì°¨ì´ê°€ ìˆë‹¤ê³  ë³¸ë‹¤
- ë²”ì£¼í˜• ë³€ìˆ˜ì˜ ììœ ë„ : **ë²”ì£¼ì˜ ìˆ˜ - 1**
- ì¹´ì´ì œê³±ê²€ì •ì—ì„œëŠ”
    - (x ë³€ìˆ˜ì˜ ììœ ë„) Ã— (y ë³€ìˆ˜ì˜ ììœ ë„)
    - ex : `Pclass` --> `Survived`
        - `Pclass` : ë²”ì£¼ê°€ 3ê°œ, Survived : 2ê°œ
        - (3-1) * (2-1) = 2
        - ê·¸ëŸ¬ë¯€ë¡œ, 2ì˜ 2 ~ 3ë°°ì¸ 4 ~ 6 ë³´ë‹¤ ì¹´ì´ì œê³± í†µê³„ëŸ‰ì´ í¬ë©´, ì°¨ì´ê°€ ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆìŒ
            
            ```python
            # 1) ë¨¼ì € êµì°¨í‘œ ì§‘ê³„ (normalized ì˜µì…˜ ì‚¬ìš©í•˜ë©´ ì•ˆë¨)
            table = pd.crosstab(titanic['Survived'], titanic['Pclass'])
            print(table)
            print('-' * 50)
            
            # 2) ì¹´ì´ì œê³±ê²€ì •
            spst.chi2_contingency(table)
            ```
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2024.png)
                
### ì´ë³€ëŸ‰ ë¶„ì„ í•¨ìˆ˜(ë²”ì£¼ -> ë²”ì£¼)

```python
def eda_2_cc(feature, target, data):
    # ë¨¼ì € ì§‘ê³„
    table = pd.crosstab(data[target], data[feature])
    table_norm = pd.crosstab(data[target], data[feature], normalize = 'columns')
    print('êµì°¨í‘œ\n', table)
    print('-' * 100)
    print('êµì°¨í‘œ (norm = columns) \n', table_norm)
    print('-' * 100)
    
    mosaic(data, [feature, target])
    plt.axhline(1- data[target].mean(), color = 'r')
    plt.show()
    
    # ì¹´ì´ì œê³±ê²€ì •
    result = spst.chi2_contingency(table)
    print('-' * 100)
    print('ì¹´ì´ì œê³±í†µê³„ëŸ‰', result[0])
    print('p-value', result[1])
    print('ììœ ë„', result[2])
    print('ê¸°ëŒ€ë¹ˆë„\n',result[3])
```

## ì´ë³€ëŸ‰ ë¶„ì„ (ìˆ«ì â†’ ë²”ì£¼)

### ì‹œê°í™”
- íˆìŠ¤í† ê·¸ë¨ì„ Survivedë¡œ ë‚˜ëˆ ì„œ ê·¸ë¦¬ê¸°
    
    ```python
    sns.histplot(x='Age', data = titanic, hue = 'Survived')
    plt.show()
    ```
    
    ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2025.png)
    
- `sns.kdeplot()`
    1. `kdeplot( , hue = 'Survived')`
        - ìƒì¡´ì—¬ë¶€ì˜ ë¹„ìœ¨ì´ ìœ ì§€ëœ ì±„ë¡œ ê·¸ë ¤ì§
        - ë‘ ê·¸ë˜í”„ì˜ ì•„ë˜ ë©´ì ì˜ í•©ì´ 1
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2026.png)
            
    2. `kdeplot( , hue = 'Survived', common_norm = False)`
        - `common_norm = False`: ìƒì¡´ì, ì‚¬ë§ì ê°ê° `kde plot` ê·¸ë¦¬ê¸°
        - ìƒì¡´ì—¬ë¶€ ê°ê° ì•„ë˜ ë©´ì ì˜ í•©ì´ 1ì¸ ê·¸ë˜í”„
        - ìƒì¡´ìì™€ ì‚¬ë§ì ê·¸ë˜í”„ê°€ ë§Œë‚˜ëŠ” ë¶€ë¶„ â†’ 5ê³³ (**ì „ì²´ í‰ê· ê³¼ ê°™ì€ ì§€ì **)
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2027.png)
            
    3. `kdeplot( , hue = 'Survived', multiple = 'fill')`
        - `multiple = â€˜fillâ€™`: ëª¨ë“  êµ¬ê°„ì— ëŒ€í•œ 100% ë¹„ìœ¨ë¡œ `kde plot` ê·¸ë¦¬ê¸°
        - ë‚˜ì´ì— ë”°ë¼ ìƒì¡´ì—¬ë¶€ **ë¹„ìœ¨**ì„ ë¹„êµí•´ë³¼ ìˆ˜ ìˆìŒ. (ì–‘ì˜ ë¹„êµê°€ ì•„ë‹Œ ë¹„ìœ¨!)
        - ë¹¨ê°„ì„ : **ì „ì²´ í‰ê·  ìƒì¡´ìœ¨**
            
            ```python
            sns.kdeplot(x='Age', data = titanic, hue ='Survived'
                        , multiple = 'fill')
            plt.axhline(titanic['Survived'].mean(), color = 'r')
            plt.show()
            ```
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2028.png)
            
            ```python
            sns.histplot(x='Age', data = titanic, bins = 16
                            , hue ='Survived', multiple = 'fill')
            plt.axhline(titanic['Survived'].mean(), color = 'r')
            plt.show()
            ```
            
            ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2029.png)
            
            > `mosaic plot`ê³¼ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ë¶„ì„
            > 
            
    4. ìˆ˜ì¹˜í˜• ë³€ìˆ˜ì— ë”°ë¥¸ ë²”ì£¼í˜• ë³€ìˆ˜ì˜ ì°¨ì´(ê´€ë ¨ì„±) í™•ì¸
        
        ![Untitled](/assets/img/blog/KT_AIVLE/week2/data_analysis/Untitled%2030.png)
            
### ìˆ˜ì¹˜í™” (ë¯¸ë´‰ì±…)
1. ìˆ˜ì¹˜í˜• X â†’ ë²”ì£¼í˜• X
2. ë¡œì§€ìŠ¤í‹± íšŒê·€ (íŒŒë¼ë¯¸í„° p-value ê²€ì •)
3. ìˆ˜ì¹˜í˜• â†’ ë²”ì£¼í˜•, ë²”ì£¼í˜• â†’ ìˆ˜ì¹˜í˜•

> ê·¸ë˜í”„ë¡œ íŒë‹¨í•˜ëŠ”ê²Œ ë” ì¢‹ìŒ
>

### ì´ë³€ëŸ‰ ë¶„ì„ í•¨ìˆ˜(ìˆ«ì -> ë²”ì£¼)

```python
def eda_2_nc(feature, target, data):
    plt.figure(figsize = (12, 4))
    
    plt.subplot(1, 3, 1)
    sns.kdeplot(x= feature, data = data, hue = target,
            common_norm = False)
    
    plt.subplot(1, 3, 2)
    sns.kdeplot(x= feature, data = data, hue = target
            , multiple = 'fill')
    plt.axhline(data[target].mean(), color = 'r')
    
    plt.subplot(1, 3, 3)
    sns.histplot(x= feature, data = data, hue = target
            , multiple = 'fill')
    plt.axhline(data[target].mean(), color = 'r')
    
    plt.tight_layout()
    plt.show()
```